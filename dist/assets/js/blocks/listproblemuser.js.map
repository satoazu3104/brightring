{"version":3,"file":"assets/js/blocks/listproblemuser.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/./src/js/blocks/component/MediaUpload/ImageSelector.js","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/webpack/bootstrap","webpack://portart/webpack/runtime/compat get default export","webpack://portart/webpack/runtime/define property getters","webpack://portart/webpack/runtime/hasOwnProperty shorthand","webpack://portart/./src/js/blocks/listproblemuser.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","import { Button } from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\n\nconst ImageSelector = ({...props}) => {\n  let attributes = props.attributes;\n  const index = props.index;\n  const setAttributes = props.setAttributes;\n  let count = props.count;\n  const slug = props.slug;\n  const single = index === undefined;\n  \n  const [newMedia, setNewMedia] = useState(!single ? attributes[index][slug] : attributes[slug]);\n  console.log(single);\n  \n  const onSelectImage = (media, slug, index) => {\n    if (media && media.url) {\n      if(!single) {\n        let newArray = attributes;\n        console.log(newArray);\n        newArray[index][slug] = media.url;\n        setNewMedia(media.url);\n        setAttributes({\n          blocksData: newArray,\n          count: count++\n        });\n      } else {\n        setNewMedia(media.url);\n        setAttributes({\n          [slug]: media.url,\n        });\n      }\n    }\n  }\n  const removeMedia = (slug, index) => {\n    if(!single) {\n    let newArray = attributes;\n    newArray[index][slug] = '';\n    setNewMedia('');\n    setAttributes({\n      blocksData: newArray,\n      count: count++\n     });\n    } else {\n      setNewMedia('');\n      setAttributes({\n        [slug]: '',\n      });\n    }\n  }\n  \n  if(!single) {\n    return(\n      <>\n      {/* 画像が設定されている場合は表示 */}\n      {newMedia && <img src={newMedia} alt=\"Uploaded Image\" />}\n\n      {/* 画像を選択するコンポーネント */}\n      <MediaUploadCheck>\n        <MediaUpload\n          onSelect={(media) => onSelectImage(media, slug, index)}\n          allowedTypes={['image']}\n          value={attributes[index][slug]}\n          render={({ open }) => (\n            <Button onClick={open} isPrimary>\n              画像を選択\n            </Button>\n          )}\n        />\n      </MediaUploadCheck>\n      {attributes[slug] !== '' &&\n        <MediaUploadCheck>\n          <Button\n            onClick={() => removeMedia(slug, index)}\n            isLink\n            isDestructive\n            className=\"removeImage\">\n            画像を削除\n          </Button>\n        </MediaUploadCheck>\n      }\n      </>\n    )\n  } else {\n    return (\n      <>\n        {/* 画像が設定されている場合は表示 */}\n        {newMedia && <img className='b-media__img' src={newMedia} alt=\"Uploaded Image\" />}\n\n        {/* 画像を選択するコンポーネント */}\n        <MediaUploadCheck>\n          <MediaUpload\n            onSelect={(media) => onSelectImage(media, slug)}\n            allowedTypes={['image']}\n            value={attributes[slug]}\n            render={({ open }) => (\n              <Button onClick={open} isPrimary>\n                画像を選択\n              </Button>\n            )}\n          />\n        </MediaUploadCheck>\n        {attributes[slug] !== '' &&\n          <MediaUploadCheck>\n            <Button\n              onClick={() => removeMedia(slug)}\n              isLink\n              isDestructive\n              className=\"removeImage\">\n              画像を削除\n            </Button>\n          </MediaUploadCheck>\n        }\n      </>\n    )\n  }\n}\n\nexport default ImageSelector; ","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"element\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck, InspectorControls, PanelColorSettings } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button, TextControl } from '@wordpress/components';\nimport { ImageSelector } from './component/MediaUpload/';\n\nregisterBlockType('portart/listproblemuser', {\n  title: '使用ユーザーリスト',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    },\n    addId: {\n      type: 'string',\n      default: '',\n    }\n  },\n  \n  edit: ({ attributes: {blocksData, count, addId}, setAttributes }) => {\n    const onChangeId = (newId) => {\n      setAttributes({\n        addId: newId\n      });\n    }\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData, \n        count: count++\n       });\n    };\n    \n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n    const changeText = (newText, label) => {\n      setAttributes({\n        [label]: newText\n      });\n    }\n    \n    return(\n      <div>\n        <InspectorControls>\n          <TextControl \n            label=\"追加Id\"\n            value={addId} \n            onChange={onChangeId}\n          />\n        </InspectorControls>\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(3, 1fr)',\n          gap: '24px',\n          marginBottom: '40px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div>\n              <div key={block.id} className=\"dynamic-block\">\n                <RichText\n                  value={block.value}\n                  onChange={newText => changeArrayText(newText, index, 'value')}\n                  tagName='p'\n                  placeholder=\"テキストを入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <ImageSelector attributes={blocksData} slug=\"media\" setAttributes={setAttributes} index={index} count={count} />\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData, addId } }) => {\n    return(\n      <>\n        <ul className='p-wrap__problem--list-user animation u-anim__fade-in'>\n          <div className='p-wrap__problem__dec--user-back animation u-anim__fuwa'></div>\n          \n          {blocksData.map((block, index) => (\n            <li className='p-wrap__problem--items-user'>\n              <div className='p-wrap__problem--items-user__dec'></div>\n              <RichText.Content\n                value={block.value}\n                tagName='p'\n                className='c-text--center c-text__list-title c-text--bold p-wrap__problem__text--user'\n              />\n              <img className='p-wrap__problem__img--user' src={block.media} alt={block.value} />\n            </li>\n          ))}\n        </ul>\n      </>\n    )\n  },\n});"],"names":["ImageSelector","props","attributes","index","setAttributes","count","slug","single","newMedia","setNewMedia","useState","console","log","onSelectImage","media","url","newArray","blocksData","removeMedia","wp","element","createElement","Fragment","className","src","alt","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","MediaUploadCheck","MediaUpload","onSelect","allowedTypes","value","render","open","Button","onClick","isPrimary","isLink","isDestructive","module","exports","window","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","registerBlockType","title","icon","category","type","default","addId","edit","changeArrayText","newText","label","InspectorControls","TextControl","onChange","newId","style","display","gridTemplateColumns","gap","marginBottom","map","block","id","RichText","tagName","placeholder","keepPlaceholderOnFocus","updatedBlocksData","filter","removeBlock","addBlock","newBlock","length","content","save","Content"],"sourceRoot":""}
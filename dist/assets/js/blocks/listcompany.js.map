{"version":3,"file":"assets/js/blocks/listcompany.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/./src/js/blocks/listcompany.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\n\nregisterBlockType('portart/listcompany', {\n  title: '会社概要',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    }\n  },\n  \n  edit: ({ attributes: {blocksData, count, title}, setAttributes }) => {\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData, \n        count: count++\n       });\n    };\n    \n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n    \n    return(\n      <div>\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(1, 1fr)',\n          gap: '24px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '24px',\n            }}>\n              <div key={block.id} className=\"dynamic-block\">\n                <RichText\n                  value={block.label}\n                  onChange={newText => changeArrayText(newText, index, 'label')}\n                  tagName='p'\n                  placeholder=\"ラベルを入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <RichText\n                  value={block.value}\n                  onChange={newText => changeArrayText(newText, index, 'value')}\n                  tagName='p'\n                  placeholder=\"値を入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData } }) => {\n    return(\n      <div>\n        <ul className='p-company__list'>\n          {blocksData.map((block, index) => (\n            <li className='p-company__items'>\n              <div className='p-company__inner'>\n                <RichText.Content\n                  value={block.label}\n                  tagName='p'\n                  className='p-company__header c-text__bold'\n                />\n                <RichText.Content\n                  value={block.value}\n                  tagName='p'\n                  className='p-company__content c-text__normal'\n                />\n              </div>\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  },\n});"],"names":["window","registerBlockType","title","icon","category","attributes","blocksData","type","default","count","edit","setAttributes","removeBlock","id","updatedBlocksData","filter","block","changeArrayText","newText","index","label","newArray","wp","element","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","display","gridTemplateColumns","gap","map","alignItems","key","className","RichText","value","onChange","tagName","placeholder","keepPlaceholderOnFocus","Button","isDestructive","onClick","isPrimary","addBlock","newBlock","length","content","save","Content"],"sourceRoot":""}
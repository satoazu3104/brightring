{"version":3,"file":"assets/js/blocks/listfaq.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/./src/js/blocks/listfaq.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button, CheckboxControl } from '@wordpress/components';\n\nregisterBlockType('portart/listfaq', {\n  title: 'FAQ',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    },\n    useAccordion: {\n      type: 'boolean',\n      default: true,\n    },\n  },\n\n  edit: ({ attributes: { blocksData, count, useAccordion }, setAttributes }) => {\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData,\n        count: count++\n      });\n    };\n\n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n\n    // useAccordionの値を変更する\n    const toggleAccordion = (isChecked) => {\n      setAttributes({ useAccordion: isChecked });\n    };\n\n    return (\n      <div>\n        <CheckboxControl\n          label=\"js-accordion機能を使用\"\n          checked={useAccordion}\n          onChange={toggleAccordion}\n        />\n        <div style={{\n          display: 'grid',\n          gap: '24px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div>\n              <div key={block.id} className=\"dynamic-block\">\n                <div style={{\n                  display: 'flex',\n                  gap: '8px'\n                }}>\n                  <p className=\"c-text--bold\">Q</p>\n                  <RichText\n                    value={block.label}\n                    onChange={newText => changeArrayText(newText, index, 'label')}\n                    tagName='p'\n                    placeholder=\"質問を入力してください\"\n                    keepPlaceholderOnFocus={true}\n                  />\n                </div>\n                <div style={{\n                  display: 'flex',\n                  gap: '8px'\n                }}>\n                  <p className=\"c-text--bold\">A</p>\n                  <RichText\n                    value={block.value}\n                    onChange={newText => changeArrayText(newText, index, 'value')}\n                    tagName='p'\n                    placeholder=\"解答タイトルを入力してください\"\n                    keepPlaceholderOnFocus={true}\n                  />\n                </div>\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData, useAccordion } }) => {\n    \n    const accordionClasses = useAccordion ? 'js-accordion' : '';\n    const accordionTriggerClasses = useAccordion ? 'js-accordion-trigger' : '';\n    const accordionContentClasses = useAccordion ? '' : 'is-open';\n\n    return (\n      <div>\n        <ul className={`p-faq__list ${accordionClasses}`}>\n          {blocksData.map((block, index) => (\n            <li className={`p-faq__items ${accordionTriggerClasses} animation`}>\n              <div className='p-faq__inner'>\n                <RichText.Content\n                  value={block.label}\n                  tagName='p'\n                  className='p-faq__header c-text__page-title c-text--bold c-text__space--med'\n                />\n              </div>\n              <RichText.Content\n                value={block.value}\n                tagName='p'\n                className={`p-faq__content c-text__page-title c-text--white c-text--bold c-text__space--med accordion__content c-text--link c-text--link__icon ${accordionContentClasses}`}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  },\n});"],"names":["window","registerBlockType","title","icon","category","attributes","blocksData","type","default","count","useAccordion","edit","setAttributes","removeBlock","id","updatedBlocksData","filter","block","changeArrayText","newText","index","label","newArray","wp","element","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","CheckboxControl","checked","onChange","isChecked","style","display","gap","map","key","className","RichText","value","tagName","placeholder","keepPlaceholderOnFocus","Button","isDestructive","onClick","isPrimary","addBlock","newBlock","length","content","save","accordionClasses","accordionTriggerClasses","accordionContentClasses","Content"],"sourceRoot":""}
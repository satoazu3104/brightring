{"version":3,"file":"assets/js/blocks/listproblem.js","mappings":"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","sources":["webpack://portart/external window [\"wp\",\"blocks\"]","webpack://portart/external window [\"wp\",\"blockEditor\"]","webpack://portart/external window [\"wp\",\"components\"]","webpack://portart/external window [\"wp\",\"element\"]","webpack://portart/./src/js/blocks/listproblem.js"],"sourcesContent":["var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","import { registerBlockType } from '@wordpress/blocks';\nimport { InnerBlocks, RichText, MediaUpload, MediaUploadCheck, InspectorControls, PanelColorSettings } from '@wordpress/block-editor';\nimport { useState } from '@wordpress/element';\nimport { Button, TextControl } from '@wordpress/components';\n\nregisterBlockType('portart/listproblem', {\n  title: 'お悩みリスト',\n  icon: 'smiley',\n  category: 'layout',\n  attributes: {\n    blocksData: {\n      type: 'array',\n      default: [],\n    },\n    count: {\n      type: 'number',\n      default: 1,\n    },\n    addId: {\n      type: 'string',\n      default: '',\n    }\n  },\n  \n  edit: ({ attributes: {blocksData, count, addId}, setAttributes }) => {\n    const onChangeId = (newId) => {\n      setAttributes({\n        addId: newId\n      });\n    }\n    // アイテムの追加\n    const addBlock = () => {\n      const newBlock = { id: blocksData.length + 1, content: `` };\n      setAttributes({\n        blocksData: [...blocksData, newBlock],\n        count: count++\n      });\n    };\n\n    // アイテムの削除\n    const removeBlock = (id) => {\n      const updatedBlocksData = blocksData.filter((block) => block.id !== id);\n      setAttributes({\n        blocksData: updatedBlocksData, \n        count: count++\n       });\n    };\n    \n    // テキストの編集\n    const changeArrayText = (newText, index, label) => {\n      let newArray = blocksData;\n      newArray[index][label] = newText;\n      setAttributes({\n        blocksData: newArray,\n        count: count++\n      });\n    }\n    const changeText = (newText, label) => {\n      setAttributes({\n        [label]: newText\n      });\n    }\n    \n    return(\n      <div>\n        <InspectorControls>\n          <TextControl \n            label=\"追加Id\"\n            value={addId} \n            onChange={onChangeId}\n          />\n        </InspectorControls>\n        <div style={{\n          display: 'grid',\n          gridTemplateColumns: 'repeat(2, 1fr)',\n          gap: '24px'\n        }}>\n          {blocksData.map((block, index) => (\n            <div>\n              <div key={block.id} className=\"dynamic-block\">\n                <RichText\n                  value={block.value}\n                  onChange={newText => changeArrayText(newText, index, 'value')}\n                  tagName='p'\n                  placeholder=\"テキストを入力してください\"\n                  keepPlaceholderOnFocus={true}\n                />\n                <Button isDestructive onClick={() => removeBlock(block.id)}>アイテムを削除</Button>\n              </div>\n            </div>\n          ))}\n        </div>\n        <Button isPrimary onClick={addBlock}>アイテムを追加</Button>\n      </div>\n    )\n  },\n\n  save: ({ className, attributes: { blocksData, addId } }) => {\n    return(\n      <>\n        <ul className='p-wrap__problem--list animation u-anim__fade-in'>\n          <div className='p-wrap__problem__dec--list-back animation u-anim__fuwa'></div>\n          <div className='p-wrap__problem__dec--dot'>\n            <div className='c-fv__wrap--dots__inner'>\n              <div className='c-fv__dot'></div>\n              <div className='c-fv__dot'></div>\n              <div className='c-fv__dot'></div>\n              <div className='c-fv__dot'></div>\n              <div className='c-fv__dot'></div>\n            </div>\n          </div>\n          <div className='p-wrap__problem__dec--human animation u-anim__scroll-up'></div>\n          {blocksData.map((slug, index) => (\n            <li className='p-wrap__problem--items'>\n              <RichText.Content\n                tagName='p'\n                value={slug.value}\n                className='c-text--bold c-text__title'\n              />\n            </li>\n          ))}\n        </ul>\n      </>\n    )\n  },\n});"],"names":["window","registerBlockType","title","icon","category","attributes","blocksData","type","default","count","addId","edit","setAttributes","removeBlock","id","updatedBlocksData","filter","block","changeArrayText","newText","index","label","newArray","wp","element","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","InspectorControls","TextControl","value","onChange","newId","style","display","gridTemplateColumns","gap","map","key","className","RichText","tagName","placeholder","keepPlaceholderOnFocus","Button","isDestructive","onClick","isPrimary","addBlock","newBlock","length","content","save","Fragment","slug","Content"],"sourceRoot":""}